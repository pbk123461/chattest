{"version":3,"sources":["webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/hooks/useSuggestion.ts","webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/hooks/usePlainTextListeners.ts","webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/components/PlainTextComposer.tsx","webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/hooks/useComposerFunctions.ts","webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/hooks/usePlainTextInitialization.ts","webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/components/Emoji.tsx","webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/SendWysiwygComposer.tsx","webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/hooks/useWysiwygSendActionHandler.ts"],"names":["useSuggestion","editorRef","setText","_suggestionData$mappe","suggestionData","setSuggestionData0","useState","setSuggestionData","logger","log","Function","mappedSuggestion","keyChar","text","suggestion","handleCommand","replacementText","_document$getSelectio2","node","newContent","textContent","document","getSelection","setBaseAndExtent","length","processCommand","handleMention","href","displayName","attributes","processMention","handleAtRoomMention","onSelect","_selection$anchorNode","selection","current","isCollapsed","anchorNode","nodeName","currentNode","anchorOffset","currentOffset","firstTextNode","createNodeIterator","NodeFilter","SHOW_TEXT","nextNode","isFirstTextNode","foundSuggestion","offset","startSliceIndex","endSliceIndex","shouldDecrementStartIndex","shouldIncrementEndIndex","wordAtCursor","slice","firstChar","charAt","restOfString","type","getMappedSuggestion","startOffset","endOffset","findSuggestionInText","processSelectionChange","_node$textContent","_node$textContent$sli","_node$textContent2","_document$getSelectio","linkElement","createElement","linkTextNode","createTextNode","setAttribute","attr","value","entries","appendChild","leadingTextNode","trailingTextNode","parentNode","isNotNull","insertBefore","removeChild","index","test","usePlainTextListeners","initialContent","onChange","onSend","eventRelation","roomContext","useRoomContext","mxClient","useMatrixClientContext","ref","useRef","autocompleteRef","content","setContent","send","useCallback","innerHTML","isNotUndefined","currentRefContent","onInput","event","target","HTMLDivElement","onPaste","nativeEvent","imagePasteWasHandled","isEventToHandleAsClipboardEvent","data","ClipboardEvent","clipboardData","dataTransfer","handleClipboardEvent","preventDefault","enterShouldSend","useSettingValue","onKeyDown","handleEventWithAutocomplete","key","Key","ENTER","sendModifierIsPressed","IS_MAC","metaKey","ctrlKey","shiftKey","stopPropagation","onBeforeInput","PlainTextComposer","className","disabled","children","placeholder","leftComponent","rightComponent","composerFunctions","useMemo","clear","insertText","focusOffset","setSelection","firstChild","focusNode","isForward","useComposerFunctions","useEffect","usePlainTextInitialization","useSetCursorPosition","isFocused","onFocus","useIsFocused","computedPlaceholder","undefined","React","classNames","onBlur","WysiwygAutocomplete","Editor","Emoji","menuPosition","EmojiButton","addEmoji","emoji","dis","dispatch","action","Action","ComposerInsert","timelineRenderingType","Content","forwardRef","composerElement","composerContext","useComposerContext","timeoutId","handler","payload","_payload$context","context","TimelineRenderingType","Room","FocusAComposer","FocusSendMessageComposer","focusComposer","ClearAndFocusSendMessageComposer","composerType","ComposerType","Send","userId","then","useDispatcher","defaultDispatcher","useWysiwygSendActionHandler","SendWysiwygComposer","_ref","isRichTextEnabled","e2eStatus","props","_objectWithoutProperties","_excluded","Composer","WysiwygComposer","defaultContextValue","getDefaultContextValue","ComposerContext","Provider","_extends","E2EIcon","status"],"mappings":"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","file":"bundles/4be8be7a2fc6973eb5fa/44.js","sourceRoot":""}